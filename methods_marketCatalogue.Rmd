---
title: "marketCatalogue"
---

**This method still might require some work, especially in parsing the response from Betfair.**

Having logged in using the [`betfair`](betfair.html) function, the environment contains the `marketCatalogue` method, which can be used to get market data.  You use `marketCatalogue` to retrieve the name of the market, the names of selections, and other information about the market.  _Market Data Request Limits apply_.

### usage

```{r eval=FALSE}
bf$marketCatalogue(filter = marketFilter(),
                   marketProjection = NULL,
                   sort = NULL,
                   maxResults = 1,
                   keepRules = FALSE)
```

### arguments

param | details
------|--------
`filter` | select desired markets, see [marketFilter](marketFilter.html) for various parameters to filter by, or the relevant [help pages](https://api.developer.betfair.com/services/webapps/docs/display/1smk3cen4v3lu3yomq5qye0ni/Betting+Type+Definitions#BettingTypeDefinitions-MarketFilter) on Betfair.
`marketProjection` | the type and amount of data returned about the market, see section **Market Projection** in [Betting Enums](betting_enums.html) or visit the relevant section in the Betfair [help pages](https://api.developer.betfair.com/services/webapps/docs/display/1smk3cen4v3lu3yomq5qye0ni/Betting+Enums#BettingEnums-MarketProjection) for more details.  The different options are "COMPETITION", "EVENT", "EVENT_TYPE", "MARKET_START_TIME", "MARKET_DESCRIPTION", "RUNNER_DESCRIPTION", and "RUNNER_METADATA", these needn't be entered in caps, however if any are misspelt they will be discarded.
`sort` | the order of the results, see section **sort** in [Betting Enums](betting_enums.html) or the relevant section in the Betfair [help pages](https://api.developer.betfair.com/services/webapps/docs/display/1smk3cen4v3lu3yomq5qye0ni/Betting+Enums#BettingEnums-MarketSort)
`maxResults` | limit on the number of results returned, default = 1
`keepRules` | when **MARKET_DESCRIPTION** is entered into the `marketProjection` paramater it returns a large amount of text containing the rules of the market, by default these are discarded, change `keepRules = TRUE` to return the rules.

### return

A list with at least one dataframe about the market(s)  filtered using the `filter` parameter (and the [`marketFilter`](marketFilter.html) function) and the `maxResults` paramater.  Each market will have at most 4 dataframes in its list, all the variables are explained below, along with the `marketProjection` option that sees that variable returned.  The list returned can be printed, allowing quick glance at markets before users can drill down into selections etc.

variable | marketProjection | dataframe | details
---------|------------------|-----------|--------
`marketId` | returned by default | market | id of the market
`marketName` | returned by default | market | name of the market
`totalMatched` | returned by default | market | amount of money already traded in the market
`startTime` | "MARKET_START_TIME" | market | when the market opened
`eventTypeId` | "EVENT_TYPE" | market | event type id (eg. 7 = Horse Racing, 1 = Football, etc)
`eventTypeName` | "EVENT_TYPE" | market | event type name (eg. Horse Racing, Football, etc)
`persistenceEnabled` | "MARKET_DESCRIPTION" | description | can bets be kept after the market goes in play
`bspMarket` | "MARKET_DESCRIPTION" | description | does the market offer BSP
`marketTime` | "MARKET_DESCRIPTION" | description |
`suspendTime` | "MARKET_DESCRIPTION" | description |
`bettingType` | "MARKET_DESCRIPTION" | description | type of bet, eg. ODDS
`turnInPlayEnabled` | "MARKET_DESCRIPTION" | description | does the market go in play
`marketType` | "MARKET_DESCRIPTION" | description | SPORT or NONSPORT
`regulator` | "MARKET_DESCRIPTION" | description | typically "GILBRALTAR REGULATOR"
`marketBaseRate` | "MARKET_DESCRIPTION" | description |
`discountAllowed` | "MARKET_DESCRIPTION" | description |
`wallet` | "MARKET_DESCRIPTION" | description | UK or Aus wallet
`rulesHasDate` | "MARKET_DESCRIPTION" | description |
`id` | "EVENT" | event | event id
`name` | "EVENT" | event | event name
`countryCode` | "EVENT" | event | event country code
`timezone` | "EVENT" | event | event timezone
`openDate` | "EVENT" | event | event opened
`selectionId` | "RUNNER_DESCRIPTION" or "RUNNER_METADATA" | runners | selection id
`runnerName` |  "RUNNER_DESCRIPTION" or "RUNNER_METADATA" | runners | runner name
`handicap` |  "RUNNER_DESCRIPTION" or "RUNNER_METADATA" | runners | handicap of selection
`sortPriority` |  "RUNNER_DESCRIPTION" or "RUNNER_METADATA" | runners | ordered by amount matched
`runnerId` |  "RUNNER_DESCRIPTION" or "RUNNER_METADATA" | runners | runner id (same as selection id)

The `runners` dataframe above will likely include a lot of other data if "RUNNER_METADATA" is used, for horse racing this will include things like Weight carried, jockey, trainer, owner, etc.  The list returned comes with `print` and `summary` methods, the `print` method will run through the markets returned and print basic data including market name, id, and matched.  The `summary` method will run through the markets and print additional data about the market, including the first 6 (or fewer) runners/selections in the market.

### examples

```{r}
library(betfaiR)
# login
bf <- betfair(usr = Sys.getenv("BETFAIR_USR"),
              pwd = Sys.getenv("BETFAIR_PWD"),
              key = Sys.getenv("BETFAIR_KEY"))

# get market data on just one market
tmp <- bf$marketCatalogue()
tmp

# get market data with details about the event and the runners
tmp <- bf$marketCatalogue(marketProjection = c("EVENT", "runner_metadata"))
summary(tmp)

# to access the runners data
tmp[[1]]$runners
```
