---
title: "marketCatalogue"
---

**This method still might require some work, especially in parsing the response from Betfair.**

Having logged in using the [`betfair`](betfair.html) function, the environment contains the `marketCatalogue` method, which can be used to get market data.  You use `marketCatalogue` to retrieve the name of the market, the names of selections, and other information about the market.  _Market Data Request Limits apply_.

### usage

```{r eval=FALSE}
bf$marketCatalogue(filter = marketFilter(),
                   marketProjection = NULL,
                   sort = NULL,
                   maxResults = 1,
                   keepRules = FALSE)
```

### arguments

param | details
------|-------------------------------------------------------------------------
`filter` | select desired markets, see [marketFilter](marketFilter.html) for various parameters to filter by, or the relevant [help pages](https://api.developer.betfair.com/services/webapps/docs/display/1smk3cen4v3lu3yomq5qye0ni/Betting+Type+Definitions#BettingTypeDefinitions-MarketFilter) on Betfair.
`marketProjection` | the type and amount of data returned about the market, see section **Market Projection** in [Betting Enums](betting_enums.html#marketprojection) or visit the relevant section in the Betfair [help pages](https://api.developer.betfair.com/services/webapps/docs/display/1smk3cen4v3lu3yomq5qye0ni/Betting+Enums#BettingEnums-MarketProjection) for more details.  The different options are **COMPETITION**, **EVENT**, **EVENT_TYPE**, **MARKET_START_TIME**, **MARKET_DESCRIPTION**, **RUNNER_DESCRIPTION**, and **RUNNER_METADATA**, these needn't be entered in caps, however if any are misspelt they will be discarded.
`sort` | the order of the results, see section **sort** in [Betting Enums](betting_enums.html#marketsort) or the relevant section in the Betfair [help pages](https://api.developer.betfair.com/services/webapps/docs/display/1smk3cen4v3lu3yomq5qye0ni/Betting+Enums#BettingEnums-MarketSort)
`maxResults` | limit on the number of results returned, default = 1
`keepRules` | when **MARKET_DESCRIPTION** is entered into the `marketProjection` paramater it returns a large amount of text containing the rules of the market, by default these are discarded, change `keepRules = TRUE` to return the rules.

### return

A list with at least one dataframe about the market(s) filtered using the `filter` parameter (and the [`marketFilter`](marketFilter.html) function) and the `maxResults` paramater.  Each market will have at most 4 dataframes in its list, all the variables are explained below, along with the `marketProjection` option that sees that variable returned.  The list returned can be printed, allowing quick glance at markets before users can drill down into selections etc.

variable | marketProjection    | dataframe | details
---------|---------------------|-----------|------------------------------------
`marketId` | returned by default | market | id of the market
`marketName` | returned by default | market | name of the market
`totalMatched` | returned by default | market | amount of money already traded in the market
`startTime` | **MARKET_START_TIME** | market | when the market opened
`eventTypeId` | **EVENT_TYPE** | market | event type id (eg. 7 = Horse Racing, 1 = Football, etc)
`eventTypeName` | **EVENT_TYPE** | market | event type name (eg. Horse Racing, Football, etc)
`persistenceEnabled` | **MARKET_DESCRIPTION** | description | can bets be kept after the market goes in play
`bspMarket` | **MARKET_DESCRIPTION** | description | does the market offer BSP
`marketTime` | **MARKET_DESCRIPTION** | description |
`suspendTime` | **MARKET_DESCRIPTION** | description |
`bettingType` | **MARKET_DESCRIPTION** | description | type of bet, eg. ODDS
`turnInPlayEnabled` | **MARKET_DESCRIPTION** | description | does the market go in play
`marketType` | **MARKET_DESCRIPTION** | description | SPORT or NONSPORT
`regulator` | **MARKET_DESCRIPTION** | description | typically "GILBRALTAR REGULATOR"
`marketBaseRate` | **MARKET_DESCRIPTION** | description |
`discountAllowed` | **MARKET_DESCRIPTION** | description |
`wallet` | **MARKET_DESCRIPTION** | description | UK or Aus wallet
`rulesHasDate` | **MARKET_DESCRIPTION** | description |
`id` | **EVENT** | event | event id
`name` | **EVENT** | event | event name
`countryCode` | **EVENT** | event | event country code
`timezone` | **EVENT** | event | event timezone
`openDate` | **EVENT** | event | event opened
`selectionId` | **RUNNER_DESCRIPTION** or **RUNNER_METADATA** | runners | selection id
`runnerName` |  **RUNNER_DESCRIPTION** or **RUNNER_METADATA** | runners | runner name
`handicap` |  **RUNNER_DESCRIPTION** or **RUNNER_METADATA** | runners | handicap of selection
`sortPriority` |  **RUNNER_DESCRIPTION** or **RUNNER_METADATA** | runners | ordered by amount matched
`runnerId` |  **RUNNER_DESCRIPTION** or **RUNNER_METADATA** | runners | runner id (same as selection id)

The `runners` dataframe above will likely include a lot of other data if **RUNNER_METADATA** is used, for horse racing this will include things like Weight carried, jockey, trainer, owner, etc.  The list returned comes with `print` and `summary` methods, the `print` method will run through the markets returned and print basic data including market name, id, and matched.  The `summary` method will run through the markets and print additional data about the market, including the first 6 (or fewer) runners/selections in the market.

### examples

```{r comment=""}
library(betfaiR)
# login
bf <- betfair(usr = Sys.getenv("BETFAIR_USR"),
              pwd = Sys.getenv("BETFAIR_PWD"),
              key = Sys.getenv("BETFAIR_KEY"))

# get market data on just one market
tmp <- bf$marketCatalogue()
tmp

# get market data with details about the event and the runners
tmp <- bf$marketCatalogue(marketProjection = c("EVENT", "runner_metadata"))
summary(tmp)

# to access the runners data
tmp[[1]]$runners

# horse racing data
tmp <- bf$marketCatalogue(filter = marketFilter(eventTypeIds = 7,
                                                marketCountries = "GB",
                                                marketTypeCodes = "WIN"),
                          marketProjection = c("event", "runner_metadata"))
summary(tmp)
str(tmp[[1]]$metadata)
```

<a href="https://github.com/durtal/betfaiR" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#d9230f; color:#fcfcfc; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
